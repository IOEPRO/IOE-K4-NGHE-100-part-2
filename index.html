<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOE K4 - LUY·ªÜN NGHE 120 C√ÇU (B·∫¢N CH·ªÆ SI√äU TO)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
      body { font-family: 'Nunito', sans-serif; scroll-behavior: smooth; overflow-x: hidden; font-size: 1.25rem; }
      .custom-scrollbar::-webkit-scrollbar { width: 8px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
      
      @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
      
      .btn-active:active { transform: scale(0.95); }
      .answer-underline { text-decoration-color: #fca5a5; text-decoration-thickness: 5px; text-underline-offset: 6px; }
      
      input::placeholder { color: #cbd5e1; font-weight: 800; }
    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const QuestionType = {
            MC: 'MULTIPLE_CHOICE',
            FIB: 'FILL_IN_BLANK'
        };

        const QUIZ_DATA = [
            { id: 1, type: QuestionType.FIB, text: "_ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/1/twelfth.mp3", answer: "Twelve", explain: "Twelve: S·ªë 12.", translation: "s·ªë 12" },
            { id: 2, type: QuestionType.FIB, text: "Where‚Äôs my _ _ _ _ _ of chocolate?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/13.mp3", answer: "piece", explain: "Piece: Mi·∫øng, m·∫©u.", translation: "mi·∫øng/m·∫©u" },
            { id: 3, type: QuestionType.MC, text: "Listen and choose the correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-46.mp3", options: ["Driver", "Picture", "Worker", "Doctor"], answer: "Driver", explain: "Driver: T√†i x·∫ø.", translation: "t√†i x·∫ø" },
            { id: 4, type: QuestionType.MC, text: "Listen and choose the correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-3.mp3", options: ["August", "American", "April", "Australia"], answer: "April", explain: "April: Th√°ng 4.", translation: "th√°ng 4" },
            { id: 5, type: QuestionType.FIB, text: "_ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/1/field.mp3", answer: "field", explain: "Field: C√°nh ƒë·ªìng.", translation: "c√°nh ƒë·ªìng" },
            { id: 6, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/1/relative.mp3", answer: "relative", explain: "Relative: H·ªç h√†ng.", translation: "h·ªç h√†ng" },
            { id: 7, type: QuestionType.MC, text: "Listen and choose correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-11.mp3", options: ["Lemonade", "Tuesday", "Saturday", "February"], answer: "Saturday", explain: "Saturday: Th·ª© 7.", translation: "th·ª© 7" },
            { id: 8, type: QuestionType.MC, text: "Choose the correct date.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-27.mp3", options: ["Thirtieth", "Thirteen", "Thirsty", "Thirty"], answer: "Thirtieth", explain: "Thirtieth: Ng√†y th·ª© 30.", translation: "th·ª© 30" },
            { id: 9, type: QuestionType.FIB, text: "Look at that _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening42.mp3", answer: "Field", explain: "Field: C√°nh ƒë·ªìng.", translation: "c√°nh ƒë·ªìng" },
            { id: 10, type: QuestionType.MC, text: "Listen and choose correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-48.mp3", options: ["Canadian", "Malaysia", "Christmas", "Japan"], answer: "Christmas", explain: "Christmas: Gi√°ng sinh.", translation: "Gi√°ng sinh" },
            { id: 11, type: QuestionType.FIB, text: "I go to s_ _ _ _ very early on Sunday.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-95.mp3", answer: "leep", explain: "Sleep: Ng·ªß.", translation: "ng·ªß" },
            { id: 12, type: QuestionType.FIB, text: "We _ _ _ a lot of really good food.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-95.mp3", answer: "eat", explain: "Eat: ƒÇn.", translation: "ƒÉn" },
            { id: 13, type: QuestionType.FIB, text: "I go to the _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-69.mp3", answer: "park", explain: "Park: C√¥ng vi√™n.", translation: "c√¥ng vi√™n" },
            { id: 14, type: QuestionType.FIB, text: "Tears to _ _ _ _ _ their eyes.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/3/26.mp3", answer: "clean", explain: "Clean: L√†m s·∫°ch.", translation: "l√†m s·∫°ch" },
            { id: 15, type: QuestionType.FIB, text: "The snow is so much _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-99.mp3", answer: "fun", explain: "Fun: Vui v·∫ª.", translation: "ni·ªÅm vui" },
            { id: 16, type: QuestionType.MC, text: "What time is it?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/12.mp3", options: ["It‚Äôs 8:15.", "It‚Äôs 8:25.", "It‚Äôs 8:50.", "It‚Äôs 8:05."], answer: "It‚Äôs 8:15.", explain: "8:15.", translation: "8 gi·ªù 15" },
            { id: 17, type: QuestionType.FIB, text: "I cook a nice _ _ _ _ _ fast.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-67.mp3", answer: "break", explain: "Breakfast.", translation: "b·ªØa s√°ng" },
            { id: 18, type: QuestionType.MC, text: "When is football?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening420.mp3", options: ["On Saturday.", "On Monday.", "On Sunday.", "On Friday."], answer: "On Sunday.", explain: "Sunday.", translation: "ch·ªß nh·∫≠t" },
            { id: 19, type: QuestionType.MC, text: "What does he do on Thanksgiving?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-111.mp3", options: ["Have dinner", "Watch football", "A & B correct", "Fireworks"], answer: "A & B correct", explain: "Dinner and football.", translation: "c·∫£ A v√† B" },
            { id: 20, type: QuestionType.MC, text: "Choose answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-25.mp3", options: ["Australia", "Japan", "Drawers", "Cupboard"], answer: "Cupboard", explain: "T·ªß ch√©n.", translation: "c√°i t·ªß" },
            { id: 21, type: QuestionType.FIB, text: "The crab has two _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/27.mp3", answer: "eyes", explain: "Eyes: M·∫Øt.", translation: "ƒë√¥i m·∫Øt" },
            { id: 22, type: QuestionType.MC, text: "Choose office location.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-9.mp3", options: ["Office", "Factory", "Field", "Hospital"], answer: "Office", explain: "Office.", translation: "vƒÉn ph√≤ng" },
            { id: 23, type: QuestionType.MC, text: "Choose school.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-45.mp3", options: ["School", "Bathroom", "Mushroom", "Afternoon"], answer: "School", explain: "School.", translation: "tr∆∞·ªùng h·ªçc" },
            { id: 24, type: QuestionType.MC, text: "Choose drink.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-50.mp3", options: ["Milk", "Juice", "Break", "Lemonade"], answer: "Lemonade", explain: "Lemonade.", translation: "n∆∞·ªõc chanh" },
            { id: 25, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/1/colourful.mp3", answer: "colourful", explain: "R·ª±c r·ª°.", translation: "nhi·ªÅu m√†u" },
            { id: 26, type: QuestionType.MC, text: "Look like?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-43.mp3", options: ["Slim", "Short", "Old", "Tall"], answer: "Slim", explain: "Slim: M·∫£nh kh·∫£nh.", translation: "m·∫£nh kh·∫£nh" },
            { id: 27, type: QuestionType.FIB, text: "_ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/23/636864828318208756_Audio.mp3", answer: "Usually", explain: "Th∆∞·ªùng xuy√™n.", translation: "th∆∞·ªùng xuy√™n" },
            { id: 28, type: QuestionType.MC, text: "Special day?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-26.mp3", options: ["Wednesday", "Birthday", "Tuesday", "Thirsty"], answer: "Birthday", explain: "Sinh nh·∫≠t.", translation: "sinh nh·∫≠t" },
            { id: 29, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening41.mp3", answer: "Badminton", explain: "C·∫ßu l√¥ng.", translation: "c·∫ßu l√¥ng" },
            { id: 30, type: QuestionType.FIB, text: "Visit new _ _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-96.mp3", answer: "cities", explain: "Cities: Th√†nh ph·ªë.", translation: "th√†nh ph·ªë" },
            { id: 31, type: QuestionType.FIB, text: "Bakery bread is _ _ _ _ _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/20.mp3", answer: "delicious", explain: "Delicious.", translation: "ngon mi·ªáng" },
            { id: 32, type: QuestionType.FIB, text: "I _ _ _ _ _ my rooms.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-91.mp3", answer: "clean", explain: "D·ªçn d·∫πp.", translation: "d·ªçn d·∫πp" },
            { id: 33, type: QuestionType.FIB, text: "Order p_ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-72.mp3", answer: "izza", explain: "Pizza.", translation: "b√°nh pizza" },
            { id: 34, type: QuestionType.FIB, text: "What for _ _ _ ?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-108.mp3", answer: "fun", explain: "Fun: Gi·∫£i tr√≠.", translation: "vui v·∫ª" },
            { id: 35, type: QuestionType.FIB, text: "I go to s_ _ _ _ early.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-95.mp3", answer: "leep", explain: "Sleep.", translation: "ng·ªß" },
            { id: 36, type: QuestionType.FIB, text: "On the w_ _ _ _ _ _ ?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-66.mp3", answer: "eekend", explain: "Weekend.", translation: "cu·ªëi tu·∫ßn" },
            { id: 37, type: QuestionType.FIB, text: "Favourite _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-62.mp3", answer: "food", explain: "Food.", translation: "ƒë·ªì ƒÉn" },
            { id: 38, type: QuestionType.MC, text: "Zoo close?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening419.mp3", options: ["5:45", "5:15", "6:45", "6:15"], answer: "6:15", explain: "6:15.", translation: "6 gi·ªù 15" },
            { id: 39, type: QuestionType.MC, text: "Birthday?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-120.mp3", options: ["Aug 15th", "Aug 13rd", "Aug 25th", "Aug 5th"], answer: "Aug 15th", explain: "Aug 15th.", translation: "15 th√°ng 8" },
            { id: 40, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/1/colourful.mp3", answer: "colourful", explain: "M√†u s·∫Øc.", translation: "r·ª±c r·ª°" },
            { id: 41, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/1/vegetable.mp3", answer: "vegetable", explain: "Rau c·ªß.", translation: "rau c·ªß" },
            { id: 42, type: QuestionType.MC, text: "Choose 19.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-38.mp3", options: ["Ninteen", "Ninty", "Ninety", "Nineteen"], answer: "Nineteen", explain: "19.", translation: "s·ªë 19" },
            { id: 43, type: QuestionType.FIB, text: "Go to _ _ _ _ _ _ tonight.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/22/636864424860080715_Audio.mp3", answer: "cinema", explain: "R·∫°p phim.", translation: "r·∫°p phim" },
            { id: 44, type: QuestionType.FIB, text: "_ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/23/636864827806020081_Audio.mp3", answer: "Monday", explain: "Th·ª© 2.", translation: "th·ª© 2" },
            { id: 45, type: QuestionType.MC, text: "Fireworks.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-14.mp3", options: ["Father", "Worker", "Firework", "Kitchen"], answer: "Firework", explain: "Ph√°o hoa.", translation: "ph√°o hoa" },
            { id: 46, type: QuestionType.MC, text: "Twenty.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-12.mp3", options: ["Twelve", "Twenty", "Twelfth", "Twentieth"], answer: "Twenty", explain: "20.", translation: "s·ªë 20" },
            { id: 47, type: QuestionType.MC, text: "Young.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-29.mp3", options: ["Month", "Garden", "Young", "Chicken"], answer: "Young", explain: "Tr·∫ª.", translation: "tr·∫ª trung" },
            { id: 48, type: QuestionType.MC, text: "Nurse.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-31.mp3", options: ["Father", "Grandma", "Mother", "Nurse"], answer: "Nurse", explain: "Y t√°.", translation: "y t√°" },
            { id: 49, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/1/relative.mp3", answer: "Relative", explain: "H·ªç h√†ng.", translation: "ng∆∞·ªùi th√¢n" },
            { id: 50, type: QuestionType.FIB, text: "I _ _ _ _ dishes.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-68.mp3", answer: "wash", explain: "R·ª≠a.", translation: "r·ª≠a" },
            { id: 51, type: QuestionType.MC, text: "Which day?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening412.mp3", options: ["Fri", "Mon", "Wed", "Tue"], answer: "Mon", explain: "Monday.", translation: "th·ª© 2" },
            { id: 52, type: QuestionType.FIB, text: "_ _ _ _ and short.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/14.mp3", answer: "slim", explain: "Slim: M·∫£nh.", translation: "g·∫ßy/m·∫£nh" },
            { id: 53, type: QuestionType.FIB, text: "_ _ _ good food.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-94.mp3", answer: "eat", explain: "ƒÇn.", translation: "ƒÉn" },
            { id: 54, type: QuestionType.FIB, text: "From _ _ _ _ _ _ _ .", audio: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/22/636864427199304004_Audio.mp3", answer: "The USA", explain: "USA.", translation: "n∆∞·ªõc M·ªπ" },
            { id: 55, type: QuestionType.FIB, text: "I _ _ _ _ purple.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-97.mp3", answer: "love", explain: "Y√™u.", translation: "y√™u" },
            { id: 56, type: QuestionType.FIB, text: "I _ _ _ _ _ rooms.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-91.mp3", answer: "clean", explain: "D·ªçn d·∫πp.", translation: "d·ªçn d·∫πp" },
            { id: 57, type: QuestionType.FIB, text: "See _ _ _ _ _ _ !", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/3/28.mp3", answer: "behind", explain: "Behind.", translation: "ph√≠a sau" },
            { id: 58, type: QuestionType.MC, text: "Close?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening419.mp3", options: ["6:15", "5:45", "6:45", "5:15"], answer: "6:15", explain: "6:15.", translation: "6 gi·ªù 15" },
            { id: 59, type: QuestionType.MC, text: "Brothers?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-113.mp3", options: ["5 bros", "4 bros", "5 bros & sis", "6 bros"], answer: "5 bros", explain: "5 brothers.", translation: "5 anh em" },
            { id: 60, type: QuestionType.MC, text: "Location.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-9.mp3", options: ["Factory", "Hospital", "Field", "Office"], answer: "Office", explain: "VƒÉn ph√≤ng.", translation: "vƒÉn ph√≤ng" },
            { id: 61, type: QuestionType.MC, text: "Job.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-1.mp3", options: ["Mother", "Brother", "Father", "Farmer"], answer: "Farmer", explain: "N√¥ng d√¢n.", translation: "n√¥ng d√¢n" },
            { id: 62, type: QuestionType.FIB, text: "_ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/1/field.mp3", answer: "field", explain: "Field.", translation: "c√°nh ƒë·ªìng" },
            { id: 63, type: QuestionType.FIB, text: "_ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/22/636864425877582672_Audio.mp3", answer: "fourth", explain: "Th·ª© 4.", translation: "th·ª© 4" },
            { id: 64, type: QuestionType.FIB, text: "_ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/23/636864827379769329_Audio.mp3", answer: "bicycle", explain: "Xe ƒë·∫°p.", translation: "xe ƒë·∫°p" },
            { id: 65, type: QuestionType.FIB, text: "_ _ _ _ _ _ _", audio: "http://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/23/636864827623832347_Audio.mp3", answer: "factory", explain: "Nh√† m√°y.", translation: "nh√† m√°y" },
            { id: 66, type: QuestionType.MC, text: "Where?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-45.mp3", options: ["Bath", "School", "After", "Mush"], answer: "School", explain: "School.", translation: "tr∆∞·ªùng h·ªçc" },
            { id: 67, type: QuestionType.MC, text: "Doctor.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-16.mp3", options: ["Mother", "Doctor", "Nurse", "Brother"], answer: "Doctor", explain: "Doctor.", translation: "b√°c sƒ©" },
            { id: 68, type: QuestionType.MC, text: "B√¥ng hoa.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-36.mp3", options: ["Video", "Yellow", "Flower", "Audio"], answer: "Flower", explain: "Flower.", translation: "b√¥ng hoa" },
            { id: 69, type: QuestionType.FIB, text: "_ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening42.mp3", answer: "field", explain: "Field.", translation: "c√°nh ƒë·ªìng" },
            { id: 70, type: QuestionType.MC, text: "Mon day.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening412.mp3", options: ["Mon", "Tue", "Fri", "Wed"], answer: "Mon", explain: "Monday.", translation: "th·ª© 2" },
            { id: 71, type: QuestionType.FIB, text: "_ _ _ on Sunday.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-104.mp3", answer: "fun", explain: "Fun.", translation: "ni·ªÅm vui" },
            { id: 72, type: QuestionType.FIB, text: "I _ _ _ _ windows.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-92.mp3", answer: "wash", explain: "Wash.", translation: "r·ª≠a/lau" },
            { id: 73, type: QuestionType.FIB, text: "Really _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-74.mp3", answer: "big", explain: "Big.", translation: "to/l·ªõn" },
            { id: 74, type: QuestionType.FIB, text: "_ _ _ _ _ fast.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-67.mp3", answer: "break", explain: "Breakfast.", translation: "b·ªØa s√°ng" },
            { id: 75, type: QuestionType.FIB, text: "The _ _ _ _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/3/24.mp3", answer: "cupboard", explain: "Cupboard.", translation: "c√°i t·ªß" },
            { id: 76, type: QuestionType.FIB, text: "Loves s_ _ _ .", audio: "https://res.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-63.mp3", answer: "now", explain: "Snow.", translation: "tuy·∫øt" },
            { id: 77, type: QuestionType.FIB, text: "I play s_ _ _ _ _ .", audio: "https://res.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-105.mp3", answer: "ports", explain: "Sports.", translation: "th·ªÉ thao" },
            { id: 78, type: QuestionType.MC, text: "Lunch?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/3/25.mp3", options: ["Chicken & rice", "Meat & pot", "Burgers", "Meat & tom"], answer: "Chicken & rice", explain: "Rice.", translation: "c∆°m g√†" },
            { id: 79, type: QuestionType.MC, text: "Nov.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-119.mp3", options: ["Oct", "Dec", "Nov", "Sep"], answer: "Nov", explain: "Nov.", translation: "th√°ng 11" },
            { id: 80, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening44.mp3", answer: "Thursday", explain: "Th·ª© 5.", translation: "th·ª© 5" },
            { id: 81, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/2/17.mp3", answer: "Supermarket", explain: "Si√™u th·ªã.", translation: "si√™u th·ªã" },
            { id: 82, type: QuestionType.MC, text: "Nurse.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-10.mp3", options: ["Kit", "Skate", "Nurse", "Dream"], answer: "Nurse", explain: "Nurse.", translation: "y t√°" },
            { id: 83, type: QuestionType.FIB, text: "Go to _ _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/22/636864424860080715_Audio.mp3", answer: "cinema", explain: "Cinema.", translation: "r·∫°p phim" },
            { id: 84, type: QuestionType.MC, text: "Money.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-37.mp3", options: ["Sci", "Music", "Money", "Math"], answer: "Money", explain: "Money.", translation: "ti·ªÅn" },
            { id: 85, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/1/celebration.mp3", answer: "celebration", explain: "K·ª∑ ni·ªám.", translation: "l·ªÖ k·ª∑ ni·ªám" },
            { id: 86, type: QuestionType.MC, text: "School.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-45.mp3", options: ["Aft", "Bath", "Mush", "School"], answer: "School", explain: "School.", translation: "tr∆∞·ªùng h·ªçc" },
            { id: 87, type: QuestionType.MC, text: "Eleventh.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-57.mp3", options: ["11th", "11", "18", "18th"], answer: "11th", explain: "11th.", translation: "th·ª© 11" },
            { id: 88, type: QuestionType.MC, text: "Teacher.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-51.mp3", options: ["Work", "Apple", "Pur", "Teach"], answer: "Teach", explain: "Teacher.", translation: "gi√°o vi√™n" },
            { id: 89, type: QuestionType.FIB, text: "_ _ _ _ Street.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/23.mp3", answer: "Hill", explain: "Hill.", translation: "ng·ªçn ƒë·ªìi" },
            { id: 90, type: QuestionType.MC, text: "Lunch.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening416.mp3", options: ["San tea", "San juice", "Pasta tea", "Pasta juice"], answer: "Pasta juice", explain: "Pasta.", translation: "m√¨ & n∆∞·ªõc t√°o" },
            { id: 91, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _ _ her house.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/2/18.mp3", answer: "decorating", explain: "Decorating.", translation: "trang tr√≠" },
            { id: 92, type: QuestionType.FIB, text: "New _ _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-96.mp3", answer: "cities", explain: "Cities.", translation: "th√†nh ph·ªë" },
            { id: 93, type: QuestionType.FIB, text: "_ _ _ _ dinner.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-71.mp3", answer: "cook", explain: "Cook.", translation: "n·∫•u ƒÉn" },
            { id: 94, type: QuestionType.FIB, text: "Bakery bread.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/20.mp3", answer: "delicious", explain: "Ngon.", translation: "ngon tuy·ªát" },
            { id: 95, type: QuestionType.FIB, text: "_ _ _ ping.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-83.mp3", answer: "cam", explain: "Camping.", translation: "c·∫Øm tr·∫°i" },
            { id: 96, type: QuestionType.FIB, text: "_ _ _ _ _ _ ?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/19.mp3", answer: "cinema", explain: "Cinema.", translation: "r·∫°p phim" },
            { id: 97, type: QuestionType.FIB, text: "Love _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-97.mp3", answer: "love", explain: "Y√™u.", translation: "y√™u th√≠ch" },
            { id: 98, type: QuestionType.MC, text: "Birthday?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-120.mp3", options: ["13", "15", "5", "25"], answer: "15", explain: "15th.", translation: "15 th√°ng 8" },
            { id: 99, type: QuestionType.FIB, text: "Father job.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/18.mp3", answer: "musician", explain: "Nh·∫°c sƒ©.", translation: "nh·∫°c sƒ©" },
            { id: 100, type: QuestionType.FIB, text: "Go to s_ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-95.mp3", answer: "leep", explain: "Sleep.", translation: "ng·ªß" },
            /* NEW 20 QUESTIONS */
            { id: 101, type: QuestionType.MC, text: "Listen and choose the correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-1.mp3", options: ["Brother", "Father", "Mother", "Farmer"], answer: "Farmer", explain: "Farmer: N√¥ng d√¢n.", translation: "n√¥ng d√¢n" },
            { id: 102, type: QuestionType.MC, text: "Listen and choose the correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-34.mp3", options: ["Festival", "Library", "Animal", "Primary"], answer: "Animal", explain: "Animal: ƒê·ªông v·∫≠t.", translation: "ƒë·ªông v·∫≠t" },
            { id: 103, type: QuestionType.FIB, text: "David doesn‚Äôt like his _ _ _ _ lessons very much.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/22/636864425005705954_Audio.mp3", answer: "Math", explain: "Math: M√¥n To√°n.", translation: "m√¥n to√°n" },
            { id: 104, type: QuestionType.FIB, text: "_ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/22/636864426194926971_Audio.mp3", answer: "Friday", explain: "Friday: Th·ª© 6.", translation: "th·ª© s√°u" },
            { id: 105, type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/23/636864827501802142_Audio.mp3", answer: "bookshop", explain: "Bookshop: Hi·ªáu s√°ch.", translation: "hi·ªáu s√°ch" },
            { id: 106, type: QuestionType.MC, text: "Listen and choose the correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-59.mp3", options: ["Evening", "Fishing", "Morning", "Reading"], answer: "Morning", explain: "Morning: Bu·ªïi s√°ng.", translation: "bu·ªïi s√°ng" },
            { id: 107, type: QuestionType.MC, text: "Listen and choose the correct answer.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-11.mp3", options: ["Tuesday", "February", "Lemonade", "Saturday"], answer: "Saturday", explain: "Saturday: Th·ª© 7.", translation: "th·ª© b·∫£y" },
            { id: 108, type: QuestionType.FIB, text: "There is a _ _ _ _ _ _ near my home.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/21.mp3", answer: "Bakery", explain: "Bakery: Ti·ªám b√°nh.", translation: "ti·ªám b√°nh" },
            { id: 109, type: QuestionType.FIB, text: "Where‚Äôs my _ _ _ _ _ of chocolate?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/13.mp3", answer: "piece", explain: "Piece: Mi·∫øng, m·∫©u.", translation: "mi·∫øng/m·∫©u" },
            { id: 110, type: QuestionType.FIB, text: "Wear your school _ _ _ _ _ _ _ on Wednesday.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/ImageExam/2019/2/23/636864827070081206_Audio.mp3", answer: "clothes", explain: "Clothes: Qu·∫ßn √°o.", translation: "qu·∫ßn √°o" },
            { id: 111, type: QuestionType.FIB, text: "The bread in this bakery is _ _ _ _ _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/2/20.mp3", answer: "delicious", explain: "Delicious: Ngon tuy·ªát.", translation: "ngon tuy·ªát" },
            { id: 112, type: QuestionType.FIB, text: "The _ _ _ _ _ _ has eyes at the front of its head.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/3/27.mp3", answer: "monkey", explain: "Monkey: Con kh·ªâ.", translation: "con kh·ªâ" },
            { id: 113, type: QuestionType.FIB, text: "She‚Äôs a teacher. She works in a _ _ _ _ _ _ _ school.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/2/12.mp3", answer: "primary", explain: "Primary: Tr∆∞·ªùng ti·ªÉu h·ªçc.", translation: "ti·ªÉu h·ªçc" },
            { id: 114, type: QuestionType.FIB, text: "Mai is _ _ _ _ _ _ _ _ _ _ her house.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De1/2/18.mp3", answer: "decorating", explain: "Decorating: Trang tr√≠.", translation: "trang tr√≠" },
            { id: 115, type: QuestionType.FIB, text: "What do you do for _ _ _ ?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-108.mp3", answer: "fun", explain: "Fun: Gi·∫£i tr√≠.", translation: "ni·ªÅm vui" },
            { id: 116, type: QuestionType.MC, text: "Where did the children go yesterday?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening414.mp3", options: ["They went to the park.", "They went to the zoo.", "They went to a farm.", "They went to a museum."], answer: "They went to a farm.", explain: "Farm: N√¥ng tr·∫°i.", translation: "ƒëi ƒë·∫øn n√¥ng tr·∫°i" },
            { id: 117, type: QuestionType.FIB, text: "But on Thursday, we went _ _ _ _ _ _ _ _ in the lake.", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/TraiNghiem/E4/R3/nghe/Listening418.mp3", answer: "swimming", explain: "Swimming: ƒêi b∆°i.", translation: "ƒëi b∆°i" },
            { id: 118, type: QuestionType.FIB, text: "The snow is so much _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-99.mp3", answer: "fun", explain: "Fun: Vui v·∫ª.", translation: "ni·ªÅm vui" },
            { id: 119, type: QuestionType.MC, text: "How many brothers and sisters does Sorie have?", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Captinh/Lop4/Amthanh/E4-T-113.mp3", options: ["Five brothers", "Five brothers and one sister", "Six brothers", "Four brothers and two sisters"], answer: "Five brothers", explain: "Five brothers: NƒÉm ng∆∞·ªùi anh/em trai.", translation: "nƒÉm anh em trai" },
            { id: 120, type: QuestionType.FIB, text: "What‚Äôs the girl‚Äôs full name? ‚Äì She‚Äôs Sue _ _ _ _ _ .", audio: "https://cdn.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2019-2020/Tinh_Thanhpho/L4/Nghe/De2/3/22.mp3", answer: "Clark", explain: "Clark: T√™n h·ªç Sue Clark.", translation: "h·ªç Clark" }
        ];

        const AudioPlayer = ({ src, autoPlay }) => {
            const audioRef = useRef(null);
            const [isPlaying, setIsPlaying] = useState(false);
            useEffect(() => { if (autoPlay && audioRef.current) audioRef.current.play().catch(() => {}); }, [src]);
            const toggle = () => { if (audioRef.current.paused) audioRef.current.play(); else audioRef.current.pause(); };
            return (
                <div className="flex items-center gap-4 bg-indigo-50/50 p-4 rounded-3xl border-2 border-indigo-100 shadow-sm transition-all hover:shadow-md">
                    <button onClick={toggle} className="w-16 h-16 flex items-center justify-center bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-all shadow-lg btn-active">
                        {isPlaying ? <svg className="w-9 h-9" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg> : <svg className="w-9 h-9 ml-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>}
                    </button>
                    <div>
                        <span className="text-lg font-black text-indigo-900 block uppercase tracking-wider leading-none mb-1">Nghe Audio</span>
                        <span className="text-sm text-indigo-400 font-bold italic block leading-none">B·∫•m n√∫t ƒë·ªÉ nghe √¢m thanh c√¢u h·ªèi</span>
                    </div>
                    <audio ref={audioRef} src={src} onPlay={() => setIsPlaying(true)} onPause={() => setIsPlaying(false)} onEnded={() => setIsPlaying(false)} className="hidden" />
                </div>
            );
        };

        const QuestionGrid = ({ questions, userAnswers, currentIndex, onJump, onClose }) => {
            const getStatusColor = (q, idx) => {
                const ans = userAnswers.find(a => a.qId === q.id);
                if (idx === currentIndex) return "ring-4 ring-indigo-500 border-indigo-500 text-indigo-700 bg-white shadow-lg";
                if (!ans) return "bg-slate-100 text-slate-400 border-transparent hover:bg-slate-200";
                return ans.isCorrect ? "bg-emerald-500 text-white border-emerald-600 shadow-md" : "bg-rose-500 text-white border-rose-600 shadow-md";
            };
            return (
                <div className="fixed inset-0 z-50 bg-slate-900/80 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in">
                    <div className="bg-white rounded-[2.5rem] shadow-2xl w-full max-w-5xl max-h-[85vh] flex flex-col overflow-hidden border-4 border-white">
                        <div className="p-8 border-b flex justify-between items-center bg-slate-50">
                            <div><h2 className="text-3xl font-black text-slate-800 tracking-tight">Danh S√°ch C√¢u H·ªèi ({questions.length})</h2><p className="text-sm text-slate-500 font-bold uppercase italic mt-1 tracking-widest">Luy·ªán t·∫≠p c·∫•p t·ªânh IOE K4 - Part 2</p></div>
                            <button onClick={onClose} className="p-4 bg-slate-200 hover:bg-slate-300 rounded-[1.5rem] text-slate-600 transition-all active:scale-90"><svg className="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={4} d="M6 18L18 6M6 6l12 12" /></svg></button>
                        </div>
                        <div className="flex-1 overflow-y-auto p-8 custom-scrollbar">
                            <div className="grid grid-cols-4 sm:grid-cols-10 gap-4">
                                {questions.map((q, idx) => (
                                    <button key={q.id} onClick={() => { onJump(idx); onClose(); }} className={`h-14 w-14 rounded-2xl font-black text-sm border-2 transition-all btn-active ${getStatusColor(q, idx)}`}>{q.id}</button>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [gameState, setGameState] = useState('START');
            const [userName, setUserName] = useState('');
            const [currentIndex, setCurrentIndex] = useState(0);
            const [userAnswers, setUserAnswers] = useState([]);
            const [inputValue, setInputValue] = useState('');
            const [showHint, setShowHint] = useState(false);
            const [showGrid, setShowGrid] = useState(false);

            const startQuiz = (name) => { setUserName(name); setGameState('PLAYING'); setCurrentIndex(0); setUserAnswers([]); setInputValue(''); setShowHint(false); };
            const handleAnswer = (val) => {
                if (!val.trim()) return;
                const current = QUIZ_DATA[currentIndex];
                const normalize = (s) => s.trim().toLowerCase().replace(/[.,!?;:'"]/g, '').replace(/\s+/g, ' ');
                const isCorrect = normalize(val) === normalize(current.answer);
                setUserAnswers(prev => [...prev.filter(a => a.qId !== current.id), { qId: current.id, userResponse: val, isCorrect }]);
            };
            const goNext = () => { if (currentIndex < QUIZ_DATA.length - 1) { const nextIdx = currentIndex + 1; setCurrentIndex(nextIdx); const existing = userAnswers.find(a => a.qId === QUIZ_DATA[nextIdx].id); setInputValue(existing ? existing.userResponse : ''); setShowHint(false); } else setGameState('RESULT'); };
            const goPrev = () => { if (currentIndex > 0) { const prevIdx = currentIndex - 1; setCurrentIndex(prevIdx); const existing = userAnswers.find(a => a.qId === QUIZ_DATA[prevIdx].id); setInputValue(existing ? existing.userResponse : ''); setShowHint(false); } };

            useEffect(() => {
                const handleKeyDown = (e) => { if (e.key === 'Enter' && gameState === 'PLAYING') { const current = QUIZ_DATA[currentIndex]; const answered = userAnswers.find(a => a.qId === current.id); if (answered) goNext(); else if (inputValue.trim()) handleAnswer(inputValue); } };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [gameState, currentIndex, userAnswers, inputValue]);

            if (gameState === 'START') return (
                <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-700 via-blue-600 to-indigo-800 p-4">
                    <div className="bg-white rounded-[3rem] shadow-2xl p-12 max-w-lg w-full text-center animate-fade-in border-4 border-white/20">
                        <div className="w-24 h-24 bg-indigo-50 text-indigo-600 rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-inner"><svg className="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2.5" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15.536a5 5 0 001.414 1.414m2.828-9.9a9 9 0 012.828 0M5 10a5 5 0 015-5 5 5 0 015 5v2a5 5 0 01-5 5 5 5 0 01-5-5v-2z"></path></svg></div>
                        <h1 className="text-4xl font-black text-slate-800 mb-2 tracking-tighter uppercase leading-tight italic">LUY·ªÜN THI IOE K4</h1>
                        <p className="text-slate-400 mb-10 font-black text-sm tracking-widest uppercase italic bg-slate-50 py-2 rounded-xl">B·ªô ƒê·ªÅ 120 C√¢u H·ªèi - Nghe C·∫•p T·ªânh</p>
                        <div className="text-left mb-3 ml-2 text-base font-black text-slate-500 uppercase tracking-wide">Nh·∫≠p t√™n th√≠ sinh:</div>
                        <input type="text" placeholder="Nh·∫≠p t√™n t·∫°i ƒë√¢y..." className="w-full px-8 py-5 rounded-[2rem] border-[6px] border-slate-50 focus:border-indigo-500 outline-none mb-10 text-2xl font-black shadow-inner transition-all placeholder-slate-200" onChange={e => setUserName(e.target.value)} onKeyDown={e => e.key === 'Enter' && userName.trim() && startQuiz(userName)} />
                        <button onClick={() => userName.trim() && startQuiz(userName)} className="w-full py-6 bg-indigo-600 text-white rounded-[2rem] text-2xl font-black shadow-xl hover:bg-indigo-700 active:scale-95 transition-all tracking-tight uppercase shadow-indigo-200">B·∫ÆT ƒê·∫¶U NGAY üéØ</button>
                    </div>
                </div>
            );

            if (gameState === 'RESULT') {
                const correctCount = userAnswers.filter(a => a.isCorrect).length;
                return (
                    <div className="min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4">
                        <div className="bg-white rounded-[4rem] shadow-2xl p-16 max-w-xl w-full text-center animate-fade-in border-[6px] border-slate-50 relative">
                            <h2 className="text-4xl font-black text-slate-800 mb-8 tracking-tight uppercase italic underline decoration-indigo-200 underline-offset-8">K·∫æT QU·∫¢ B√ÄI THI</h2>
                            <div className="flex justify-center mb-10"><div className="w-48 h-48 rounded-full border-[16px] border-slate-100 flex items-center justify-center text-5xl font-black text-indigo-600 shadow-inner relative">{Math.round((correctCount/QUIZ_DATA.length)*100)}%<div className="absolute -bottom-3 bg-indigo-600 text-white text-xs px-8 py-3 rounded-full font-black uppercase tracking-widest shadow-xl">ƒê√∫ng {correctCount}/{QUIZ_DATA.length}</div></div></div>
                            <div className="grid grid-cols-2 gap-6 mb-10">
                                <div className="bg-emerald-50 p-8 rounded-[2.5rem] border-4 border-emerald-100 shadow-sm"><div className="text-5xl font-black text-emerald-600">{correctCount}</div><div className="text-xs uppercase font-black text-emerald-400 tracking-widest mt-2">C√¢u Ch√≠nh X√°c</div></div>
                                <div className="bg-rose-50 p-8 rounded-[2.5rem] border-4 border-rose-100 shadow-sm"><div className="text-5xl font-black text-rose-600">{QUIZ_DATA.length - correctCount}</div><div className="text-xs uppercase font-black text-rose-400 tracking-widest mt-2">C√¢u B·ªã Sai</div></div>
                            </div>
                            <button onClick={() => window.location.reload()} className="px-16 py-6 bg-indigo-600 text-white rounded-[2rem] font-black shadow-2xl hover:bg-indigo-700 transition-all text-2xl tracking-tight uppercase shadow-indigo-100">TH·ª¨ L·∫†I T·ª™ ƒê·∫¶U</button>
                        </div>
                    </div>
                );
            }

            const currentQ = QUIZ_DATA[currentIndex];
            const currentAns = userAnswers.find(a => a.qId === currentQ.id);
            const isDone = !!currentAns;

            return (
                <div className="min-h-screen bg-slate-100 flex flex-col items-center py-8 px-4 pb-40">
                    <div className="w-full max-w-3xl flex justify-between items-center mb-6 bg-white p-6 rounded-[2.5rem] shadow-lg border-4 border-white">
                        <div className="flex items-center gap-5">
                            <div className="w-16 h-16 bg-indigo-600 rounded-3xl flex items-center justify-center font-black text-white text-3xl shadow-xl border-4 border-white/20">{userName.charAt(0).toUpperCase()}</div>
                            <div><span className="font-black text-slate-800 text-2xl block leading-none">{userName}</span><span className="text-xs font-black text-slate-400 uppercase tracking-widest mt-2 block">Th√≠ sinh IOE K4</span></div>
                        </div>
                        <div className="flex gap-3"><button onClick={() => setShowGrid(true)} className="px-6 py-3 bg-indigo-50 text-indigo-600 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-indigo-100 active:scale-90 transition-all shadow-sm">B·∫¢NG C√ÇU</button><div className="font-black text-indigo-600 px-6 py-3 bg-indigo-100 rounded-2xl text-2xl shadow-inner border-2 border-indigo-200">{currentIndex + 1}/{QUIZ_DATA.length}</div></div>
                    </div>
                    
                    <div className="w-full max-w-3xl bg-slate-200 h-4 rounded-full mb-8 overflow-hidden shadow-inner border-4 border-white"><div className="bg-gradient-to-r from-indigo-600 via-blue-500 to-indigo-400 h-full transition-all duration-700 ease-out" style={{ width: `${((currentIndex + 1) / QUIZ_DATA.length) * 100}%` }}></div></div>
                    
                    <div className="w-full max-w-3xl bg-white rounded-[3.5rem] shadow-2xl p-10 sm:p-14 relative overflow-hidden animate-fade-in border-[8px] border-slate-50">
                        <div className="flex justify-between items-center mb-10"><span className="px-5 py-2 bg-indigo-100 text-indigo-700 rounded-full text-xs font-black uppercase tracking-widest shadow-sm">C√ÇU H·ªéI S·ªê: {currentQ.id}</span>{!isDone && <button onClick={() => setShowHint(!showHint)} className="px-6 py-2.5 bg-amber-50 text-amber-700 border-[3px] border-amber-200 rounded-full text-sm font-black uppercase hover:bg-amber-100 transition-all shadow-md active:scale-95">{showHint ? "·∫®N G·ª¢I √ù" : "XEM G·ª¢I √ù üí°"}</button>}</div>
                        
                        <div className="mb-10"><AudioPlayer src={currentQ.audio} autoPlay={true} /></div>
                        
                        {showHint && !isDone && (
                            <div className="mb-10 bg-amber-50 p-8 rounded-[2.5rem] border-4 border-amber-200 text-amber-900 shadow-inner animate-fade-in space-y-5 font-black text-base">
                                {currentQ.type === QuestionType.FIB && (
                                    <>
                                        <p className="flex items-center gap-4"><span className="bg-amber-200 w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 shadow-sm text-2xl">üìè</span> T·ª´ c·∫ßn ƒëi·ªÅn c√≥ <span className="text-indigo-600 text-3xl font-black mx-1 underline">{currentQ.answer.length}</span> ch·ªØ c√°i.</p>
                                        <p className="flex items-center gap-4"><span className="bg-amber-200 w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 shadow-sm text-2xl">üî§</span> Ch·ªØ c√°i b·∫Øt ƒë·∫ßu l√†: <span className="text-indigo-600 text-4xl uppercase underline decoration-[6px] decoration-indigo-200 underline-offset-8">"{currentQ.answer.charAt(0)}"</span></p>
                                    </>
                                )}
                                <div className="border-t-4 border-amber-200 pt-6"><span className="text-amber-500 text-xs uppercase block mb-2 tracking-widest font-black">Nghƒ©a c·ªßa t·ª´ (D·ªãch Vi·ªát):</span><p className="text-3xl text-indigo-950 italic font-black leading-tight tracking-tight">"{currentQ.translation}"</p></div>
                            </div>
                        )}
                        
                        <h2 className="text-3xl sm:text-4xl font-black text-slate-800 mb-12 italic leading-relaxed tracking-tight underline decoration-slate-100 underline-offset-[12px]">"{currentQ.text}"</h2>
                        
                        {currentQ.type === QuestionType.MC ? (
                            <div className="grid grid-cols-1 gap-6">
                                {currentQ.options.map((opt, i) => {
                                    const isCorrect = opt === currentQ.answer; const isSelected = currentAns?.userResponse === opt;
                                    let style = "bg-white border-[6px] border-slate-100 text-slate-700 hover:border-indigo-500 hover:bg-indigo-50/20";
                                    if (isDone) { if (isCorrect) style = "bg-emerald-500 border-emerald-500 text-white scale-[1.03] shadow-2xl"; else if (isSelected) style = "bg-rose-500 border-rose-500 text-white opacity-80 shadow-xl scale-[0.97]"; else style = "bg-white border-slate-50 text-slate-300 opacity-40 pointer-events-none grayscale"; }
                                    return <button key={i} onClick={() => !isDone && handleAnswer(opt)} disabled={isDone} className={`p-7 rounded-[2.5rem] font-black text-2xl transition-all text-left flex items-center gap-7 shadow-md btn-active ${style}`}><span className={`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 border-[4px] font-black text-lg ${isDone && isCorrect ? 'bg-white/30 border-white text-white' : 'bg-slate-50 border-slate-200 text-slate-400'}`}>{String.fromCharCode(65+i)}</span>{opt}</button>;
                                })}
                            </div>
                        ) : (
                            <div className="space-y-6">
                                <div className="flex flex-col sm:flex-row gap-6">
                                    <input type="text" value={isDone ? currentAns.userResponse : inputValue} onChange={e => setInputValue(e.target.value)} disabled={isDone} autoFocus placeholder="G√µ c√¢u tr·∫£ l·ªùi..." className={`flex-1 p-8 rounded-[2.5rem] border-[8px] font-black text-3xl outline-none shadow-inner tracking-tight transition-all placeholder-slate-100 ${isDone ? (currentAns.isCorrect ? "bg-emerald-50 border-emerald-500 text-emerald-800" : "bg-rose-50 border-rose-500 text-rose-800") : "bg-slate-100 border-slate-100 focus:border-indigo-500 focus:bg-white focus:ring-[12px] focus:ring-indigo-50"}`} />
                                    {!isDone && <button onClick={() => inputValue.trim() && handleAnswer(inputValue)} className="px-12 py-6 bg-indigo-600 text-white rounded-[2.5rem] font-black shadow-2xl hover:bg-indigo-700 active:scale-90 transition-all text-2xl uppercase tracking-tighter shadow-indigo-100">N·ªòP B√ÄI</button>}
                                </div>
                                {!isDone && <p className="text-xs text-slate-400 font-black uppercase text-center tracking-[0.2em] animate-pulse">NH·∫§N PH√çM ENTER ƒê·ªÇ N·ªòP NHANH</p>}
                            </div>
                        )}
                        
                        {isDone && (
                            <div className={`mt-14 p-10 rounded-[3.5rem] flex gap-10 items-start border-[10px] animate-fade-in shadow-2xl ${currentAns.isCorrect ? 'bg-emerald-50 border-emerald-200 text-emerald-900' : 'bg-rose-50 border-rose-200 text-rose-900'}`}>
                                <div className={`w-24 h-24 rounded-[2rem] flex items-center justify-center shrink-0 text-white text-5xl font-black shadow-xl ${currentAns.isCorrect ? 'bg-emerald-500 shadow-emerald-200' : 'bg-rose-500 shadow-rose-200'}`}>{currentAns.isCorrect ? "‚úì" : "‚úï"}</div>
                                <div className="flex-1">
                                    <h4 className="font-black text-4xl mb-4 uppercase italic leading-none tracking-tighter">{currentAns.isCorrect ? "R·∫§T CH√çNH X√ÅC!" : "CH∆ØA CH√çNH X√ÅC!"}</h4>
                                    {!currentAns.isCorrect && (
                                        <div className="mb-6">
                                            <span className="text-sm font-black uppercase text-rose-400 block mb-2 tracking-widest">ƒê√°p √°n ƒë√∫ng:</span>
                                            <span className="bg-white px-8 py-3 rounded-3xl border-4 border-rose-200 inline-block font-black text-5xl text-rose-600 uppercase answer-underline tracking-tighter shadow-sm">{currentQ.answer}</span>
                                        </div>
                                    )}
                                    <p className="text-xl font-bold opacity-80 italic leading-relaxed">"{currentQ.explain}"</p>
                                    <div className="mt-8 pt-6 border-t-2 border-current/10 flex items-center gap-3"><div className="w-4 h-4 rounded-full bg-indigo-500 animate-ping"></div><p className="text-sm font-black uppercase tracking-widest text-slate-400">G√ï ENTER ƒê·ªÇ SANG C√ÇU TI·∫æP THEO ‚Üí</p></div>
                                </div>
                            </div>
                        )}
                    </div>
                    
                    <div className="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t-4 border-slate-50 p-6 z-40 shadow-[0_-20px_50px_rgba(0,0,0,0.1)]">
                        <div className="max-w-3xl mx-auto flex justify-between gap-6">
                            <button onClick={goPrev} disabled={currentIndex === 0} className="px-10 py-5 bg-white border-4 border-slate-100 rounded-3xl font-black text-slate-300 hover:text-indigo-600 hover:border-indigo-600 disabled:opacity-30 transition-all shadow-md btn-active text-lg">‚Üê C√ÇU TR∆Ø·ªöC</button>
                            <button onClick={goNext} disabled={!isDone} className={`flex-1 py-5 rounded-3xl font-black text-2xl transition-all shadow-2xl uppercase tracking-tighter ${isDone ? "bg-indigo-600 text-white hover:bg-indigo-700 active:scale-95 shadow-indigo-200" : "bg-slate-100 text-slate-300 pointer-events-none"}`}>{currentIndex === QUIZ_DATA.length - 1 ? "HO√ÄN TH√ÄNH üéâ" : "C√ÇU TI·∫æP THEO ‚Üí"}</button>
                        </div>
                    </div>
                    {showGrid && <QuestionGrid questions={QUIZ_DATA} userAnswers={userAnswers} currentIndex={currentIndex} onJump={setCurrentIndex} onClose={() => setShowGrid(false)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>